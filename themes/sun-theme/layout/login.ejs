<h2>登录</h2>
<input id="user" placeholder="用户名">
<input id="pass" placeholder="密码" type="password">
<button id="loginBtn">登录</button>

<script>
document.getElementById("loginBtn").onclick = async () => {
  const username = user.value;
  const password = pass.value;
  const res = await fetch("https://blog-source-lime.vercel.app/api/login", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({ username, password })
  });
  const data = await res.json();
  if (data.success) {
    localStorage.setItem("token", data.token);
    alert("登录成功！");
    location.href = "/edit";
  } else {
    alert("用户名或密码错误");
  }
};
</script>
